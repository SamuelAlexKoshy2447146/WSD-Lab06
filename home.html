<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
            crossorigin="anonymous"
        />
        <!-- <script src="https://cdn.tailwindcss.com"></script> -->
        <style type="text/tailwindcss">
            @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
        }
        </style>
        <title>Home</title>
        <style>
            body {
                background-image: url("./images/bg.jpg");
                background-repeat: no-repeat;
                background-size: auto;
            }
            .footer {
                background-color: white;
                margin-bottom: 0;
                position: fixed;
                bottom:0;
                left:0;
                right:0;
                text-align: center;
            }
            .homesec {
                /* height: 50%; */
                background-color: white;
                opacity: 70%;
                margin: 20%;
            }
            .position {
                position: fixed;
                margin-top: 0;
                top: 0;
                width: 100%;
                z-index: 1030; /*Ensures navbar stays above other content*/
            }
            .btn1 {
                margin-left: 10%;
                padding-bottom: 10px;
                opacity: 1;
            }
            .btn2 {
                margin-left: 60%;
                padding-bottom: 10px;
                opacity: 1;
            }
        </style>
    </head>
    <body>
        <nav class="navbar navbar-expand-lg navbar-light bg-light position">
            <button
                class="navbar-toggler"
                type="button"
                data-bs-toggle="collapse"
                data-bs-target="#navbarNavAltMarkup"
                aria-controls="navbarNavAltMarkup"
                aria-expanded="false"
                aria-label="Toggle navigation"
            >
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
                <div class="navbar-nav">
                    <a class="nav-item nav-link" href="home.html">Home</a>
                    <a class="nav-item nav-link" href="features.html">Features</a>
                    <a class="nav-item nav-link" href="./gallery.html">Gallery</a>
                    <a class="nav-item nav-link" href="./video.html">Video</a>
                    <a class="nav-item nav-link" href="./contact.html">Contact Us</a>
                </div>
            </div>
        </nav>


        <section class="homesec">
            <h1 class="display-1 text-center">Welcome to Noah's Ark</h1>
            <strong style="text-align: center; margin: 250px">
                <p>
                    Streamline Your Restaurant Operations with Our All-in-One
                    ERP Solution<br />
                    Effortless Management, Unmatched Efficiency
                </p><br/><br/><br/><br/>
            </strong>
            <div style="padding-bottom: 20px;">
                <button class="btn btn-primary btn1 opacity-100" data-bs-toggle="modal" data-bs-target="#login">
                    Login
                </button>
                <button class="btn btn-secondary btn2 opacity-100" data-bs-toggle="modal" data-bs-target="#signup">
                    Sign Up
                </button>
            </div>
        </section>
        <div
            class="modal fade"
            id="login"
            tabindex="-1"
            data-bs-backdrop="static"
            data-bs-keyboard="false"
            
            role="dialog"
            aria-labelledby="modalTitleId"
            aria-hidden="true"
        >
            <div
                class="modal-dialog modal-dialog-scrollable modal-dialog-centered modal-sm"
                role="document"
            >
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="modalTitleId">
                            Login
                        </h5>
                        <button
                            type="button"
                            class="btn-close"
                            data-bs-dismiss="modal"
                            aria-label="Close"
                        ></button>
                    </div>
                    <div class="modal-body">
                        <form>
                            <div class="mb-3">
                                <label for="inputEmail" class="form-label">Email address</label>
                                <input type="email" class="form-control" id="inputEmail" aria-describedby="emailHelp">
                            </div>
                            <div class="mb-3">
                                <label for="inputPassword" class="form-label">Password</label>
                                <input type="password" class="form-control" id="inputPassword">
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary">Submit</button>
                    </div>
                </div>
            </div>
        </div>
        <div
            class="modal fade"
            id="signup"
            tabindex="-1"
            data-bs-backdrop="static"
            data-bs-keyboard="false"
            
            role="dialog"
            aria-labelledby="modalTitleId"
            aria-hidden="true"
        >
            <div
                class="modal-dialog modal-dialog-scrollable modal-dialog-centered modal-sm"
                role="document"
            >
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="modalTitleId">
                            Sign Up
                        </h5>
                        <button
                            type="button"
                            class="btn-close"
                            data-bs-dismiss="modal"
                            aria-label="Close"
                        ></button>
                    </div>
                    <div class="modal-body">
                        
                        <form>
                            <div class="mb-3">
                                <label for="inputName" class="form-label">Name</label>
                                <input type="text" class="form-control" id="inputName">
                                <span class="d-none" id="nameError">Invalid input</span>
                            </div>
                            <div class="mb-3">
                                <label for="inputEmail" class="form-label">Email address</label>
                                <input type="email" class="form-control" id="signupEmail">
                                <span class="d-none" id="emailError">Invalid email address</span>
                            </div>
                            <div class="mb-3">
                                <label for="inputDate" class="form-label">DOB</label>
                                <input type="date" class="form-control" id="inputDate">
                                <span class="d-none" id="dateError">You must be 18 years old</span>
                            </div>
                            <div class="mb-3">
                                <label for="inputPassword" class="form-label">Password</label>
                                <input type="password" class="form-control" id="signupPassword">
                                <span class="d-none" id="passwordError">Invalid password</span>
                            </div>
                            <div class="mb-3">
                                <label for="confirmPassword" class="form-label">Confirm Password</label>
                                <input type="password" class="form-control" id="confirmPassword">
                                <span class="d-none" id="confirmPasswordError">Passwords do not match</span>
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer register-button">
                        <button type="button" id='registerBtn' class="btn btn-primary" disabled>Register</button>
                    </div>
                </div>
            </div>
        </div>
        <footer class="text-center footer">
            <p>&copy; 2024 Restaurant ERP. All rights reserved.</p>
        </footer>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
        <script>
            let validName = false;
            let validemail = false;
            let validpassword = false;
            let validconfirm = false;
            let validdate = false;

            function checkFormValidity() {
                const registerBtn = document.getElementById("registerBtn");
                if (validName && validemail && validpassword && validconfirm && validdate) {
                    registerBtn.disabled = false; // Enable the button
                } else {
                    registerBtn.disabled = true; // Disable the button
                }
            }

            // Name Validation
            document.getElementById("inputName").addEventListener("input", function() {
                let nameField = this.value;
                const nameError = document.getElementById("nameError");
                const nameRegex = /^[A-Za-z\s]{3,}$/;

                if (!nameRegex.test(nameField)) {
                    this.setCustomValidity("Please use only alphabets and spaces with at least 3 letters.");
                    nameError.classList.remove("d-none");
                    validName = false;
                } else {
                    this.setCustomValidity("");
                    nameError.classList.add("d-none");
                    validName = true;
                }
                checkFormValidity();
            });

            // Email Validation
            document.getElementById("signupEmail").addEventListener("input", function() {
                let emailField = this.value;
                const emailError = document.getElementById("emailError");
                const emailRegex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;

                if (!emailRegex.test(emailField)) {
                    this.setCustomValidity("Invalid email address.");
                    emailError.classList.remove("d-none");
                    validemail = false;
                } else {
                    this.setCustomValidity("");
                    emailError.classList.add("d-none");
                    validemail = true;
                }
                checkFormValidity();
            });

            // Password Validation
            document.getElementById("signupPassword").addEventListener("input", function() {
                let passwordField = this.value;
                const passwordError = document.getElementById("passwordError");
                const passwordRegex = /^(?=.*[a-zA-Z])(?=.*\d)[A-Za-z\d]{8,}$/;

                if (!passwordRegex.test(passwordField)) {
                    this.setCustomValidity("Password must be at least 6 characters long.");
                    passwordError.classList.remove("d-none");
                    validpassword = false;
                } else {
                    this.setCustomValidity("");
                    passwordError.classList.add("d-none");
                    validpassword = true;
                }
                checkFormValidity();
            });

            // Confirm Password Validation
            document.getElementById("confirmPassword").addEventListener("input", function() {
                const passwordField = document.getElementById("signupPassword").value;
                const confirmPasswordField = this.value;
                const confirmPasswordError = document.getElementById("confirmPasswordError");

                if (passwordField !== confirmPasswordField) {
                    this.setCustomValidity("Passwords do not match.");
                    confirmPasswordError.classList.remove("d-none");
                    validconfirm = false;
                } else {
                    this.setCustomValidity("");
                    confirmPasswordError.classList.add("d-none");
                    validconfirm = true;
                }
                checkFormValidity();
            });

            // Date of Birth Validation
            document.getElementById("inputDate").addEventListener("input", function() {
                const dob = new Date(this.value);
                const today = new Date();
                const age = today.getFullYear() - dob.getFullYear();
                const month = today.getMonth() - dob.getMonth();
                const day = today.getDate() - dob.getDate();

                const dateError = document.getElementById("dateError");

                if (age < 18 || (age === 18 && (month < 0 || (month === 0 && day < 0)))) {
                    this.setCustomValidity("You must be at least 18 years old.");
                    dateError.classList.remove("d-none");
                    validdate = false;
                } else {
                    this.setCustomValidity("");
                    dateError.classList.add("d-none");
                    validdate = true;
                }
                checkFormValidity();
            });

            document.getElementById("registerBtn").addEventListener("click", () => {
                alert("Sign up is Successful!")
                let modal = bootstrap.Modal.getInstance(document.getElementById('signup'));
                    
                modal.hide();
                document.getElementById("inputName").value = "";
                document.getElementById("signupEmail").value = "";
                document.getElementById("inputDate").value = "";
                document.getElementById("signupPassword").value = "";
                document.getElementById("confirmPassword").value = "";
                validName = false;
                validemail = false;
                validpassword = false;
                validconfirm = false;
                validdate = false;
            });

        </script>
    </body>
</html>